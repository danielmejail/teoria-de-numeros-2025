\theoremstyle{plain}
\newtheorem{teoRepresentaciones}{\teoname}[section]
\newtheorem{lemaRepresentaciones}[teoRepresentaciones]{\lemaname}
\newtheorem{coroRepresentaciones}[teoRepresentaciones]{\coroname}

\theoremstyle{definition}
\newtheorem{defRepresentaciones}[teoRepresentaciones]{\defname}
\newtheorem{obsRepresentaciones}[teoRepresentaciones]{\obsname}

%-------------

\begin{lemaRepresentaciones}\label{lema:representaciones:primitivamente}
	Una forma $f$ representa primitivamente un entero $m$, si y s\'olo
	si $f$ es propiamente equivalente a una forma del tipo
	$\binaria{m,B,C}$, $B,C\in\Enteros$.
\end{lemaRepresentaciones}

\begin{proof}
	Sean $p,r\in\Enteros$ tales que $f(p,r)=m$ y $\mcd{p,r}=1$. Por
	la identidad de B\'ezout (\teoname~\ref{teo:mcd:bezout}), existen
	$q,s\in\Enteros$ tales que $ps-qr=1$. Si $f_1$ es la forma
	$f_1(x,y):=f(px+qy,rx+sy)$, entonces sus coeficientes est\'an
	dados por las f\'ormulas~%
	\eqref{eq:definiciones:equivalencia:cambio}. En particular,
	$a_1=f(p,r)=m$. Rec\'{\i}procamente, notamos que cualquier
	forma del tipo $\binaria{m,B,C}$, $B,C\in\Enteros$, representa
	primitivamente a $m$ v\'{\i}a $(1,0)$.
\end{proof}

\begin{lemaRepresentaciones}\label{lema:representaciones:primitiva}
	Sea $D\equiv 0,1\tmodulo[4]$ y sea $m\in\Enteros$,
	$\mcd{m,2D}=1$. Entonces, $m$ es representado primitivamente
	por \emph{alguna} forma primitiva de discriminante $D$,
	si y s\'olo si $D$ es un residuo cuadr\'atico m\'odulo $m$.
\end{lemaRepresentaciones}

\begin{proof}
	Supongamos, primero, que $D$ es residuo cuadr\'atico m\'odulo
	$m$, o sea, existe $b\in\Enteros$ tal que $D\equiv b^2\tmodulo[m]$.
	Como $m$ es impar, cambiando $b$ por $b+m$ de ser necesario,
	podemos suponer que $D\equiv b\tmodulo[2]$. En ese caso,
	$D\equiv b^2\tmodulo[4]$ (porque $D\equiv 0,1\tmodulo[4]$) y,
	en particular, $D\equiv b^2\tmodulo[4m]$ (porque $m$ es impar;
	$\mcd{m,4}=1$). Esto quiere decir que existe $c\in\Enteros$ tal
	que $D=b^2-4mc$. Ahora, la forma $f=\binaria{m,b,c}$ representa
	primitivamente a $m$ (v\'{\i}a $(1,0)$) y su discriminante es
	igual a $D$ y, adem\'as, $f$ es primitiva, porque $\mcd{m,D}=1$.
	Rec\'{\i}procamente, si $m$ es representado primitivamente por
	una forma $f$ de discriminante $D$, por el \lemaname~%
	\ref{lema:representaciones:primitivamente}, $f$ es (propiamente)
	equivalente a una forma del tipo $f_1=\binaria{m,B,C}$,
	$B,C\in\Enteros$. Pero, entonces,
	\begin{math}
		D=\discriminante(f)=\discriminante(f_1)=B^2-4mC
	\end{math},
	con lo que $D$ es residuo cuadr\'atico m\'odulo $m$.
\end{proof}

\begin{teoRepresentaciones}\label{teo:representaciones}
	Sea $D\equiv 0,1\tmodulo[4]$ y sea $p$ un primo positivo impar
	que no divide a $D$. Entonces, $p$ es representado
	% (primitivamente)
	por \emph{alguna} forma cuadr\'atica primitiva de discriminante
	$D$, si y s\'olo si $\chi(p)=1$, donde $\chi$ es la funci\'on del
	\lemaname~\ref{lema:ecuacion:kronecker}.
\end{teoRepresentaciones}

\begin{proof}
	$\chi(p)=1$, si y s\'olo si $\tlegendre D p=1$, si y s\'olo si
	$D$ es un residuo cuadr\'atico m\'odulo $p$, si y s\'olo si
	(\lemaname~\ref{lema:representaciones:primitiva}) $p$ es
	representado por una forma de discriminante $D$.
\end{proof}

\begin{restatable}{coroRepresentaciones}{coroRepresentacionesDescenso}
	\label{coro:representaciones}
	Sea $n\in\Enteros$, $n\neq 0$, y sea $p$ un primo positivo
	impar que no divide a $n$. Entonces, $p$ es representado
	% (primitivamente)
	por una forma primitiva de discriminante $-4n$,
	% si y s\'olo si $\tlegendre{-n} p=1$.
	si y s\'olo si $p$ es un divisor primo de $x^2+ny^2$,
	$\mcd{x,y}=1$.
\end{restatable}

Las formas cuya existencia est\'a garantizada por el \teoname~%
\ref{teo:representaciones} son, en el caso $D<0$, definidas
\emph{positivas}. Adem\'as, en cualquier caso, podemos suponer
que son primitivas. Por esta raz\'on,
introducimos la siguiente definici\'on y,
de ahora en adelante,
nos concentraremos en formas con dichas caracter\'{\i}sticas.

\begin{defRepresentaciones}\label{def:representaciones:gaussianas}
	Llamaremos \emph{forma gaussiana} a toda forma cuadr\'atica
	binaria que es
	\begin{enumerate}[(A)]
		\item primitiva e indefinida, o bien
		\item primitiva y definida \emph{positiva}.
	\end{enumerate}
	%
\end{defRepresentaciones}

Introducimos, adem\'as, la siguiente notaci\'on:%
\footnote{
	En la notaci\'on del \ejername~\ref{ejer:definiciones:clases},
	$\Clases(D)=\varClases[1](D)$.
}
\begin{itemize}
	\item $\Clases(D)$ denota el conjunto de clases de
		equivalencia propia de formas gaussianas de
		discriminante $D$ y
	\item $\nClases(D)$ denota el cardinal del conjunto
		$\Clases(D)$.
\end{itemize}
%
En ocasiones, diremos, simplemente,
``clases de formas de discriminante $D$'' en lugar de
``clases de formas gaussianas de discriminante $D$''.

\begin{obsRepresentaciones}\label{obs:representaciones:gaussianas}
	El n\'umero de clases $\nClases(D)$ es siempre positivo:
	si $D\equiv 0\tmodulo[4]$, la forma
	$\binaria{1,0,-D/4}$ es gaussiana de discriminante $D$;
	si $D\equiv 1\tmodulo[4]$, la forma
	$\binaria{1,1,(1-D)/4}$ es gaussiana de discriminante $D$.
\end{obsRepresentaciones}

\subsection*{Ejercicios}
\input{./tex/formas/ejercicios-representaciones.tex}

